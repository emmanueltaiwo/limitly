---
title: Quick Start
description: Get your first rate limiter up and running in just a few lines of code. Examples for Next.js, Express, and more.
---

# Quick Start

Get started with Limitly in minutes.

## Basic Example

```typescript
import { createClient } from 'limitly-sdk';

const client = createClient();
const result = await client.checkRateLimit('user-123');

if (result.allowed) {
  console.log(`Allowed. Remaining: ${result.remaining}`);
} else {
  console.log('Rate limit exceeded!');
}
```

## Next.js

### App Router

```typescript
// app/api/route.ts
import { createClient } from 'limitly-sdk';
import { NextResponse } from 'next/server';

const client = createClient({ serviceId: 'nextjs-api' });

export async function GET(request: Request) {
  const userId = request.headers.get('x-user-id') || 'anonymous';
  const result = await client.checkRateLimit(userId);
  
  if (!result.allowed) {
    return NextResponse.json({ error: 'Rate limit exceeded' }, { status: 429 });
  }
  
  return NextResponse.json({ success: true });
}
```

### Pages Router

```typescript
// pages/api/route.ts
import { createClient } from 'limitly-sdk';

const client = createClient({ serviceId: 'nextjs-api' });

export default async function handler(req, res) {
  const userId = req.headers['x-user-id'] || 'anonymous';
  const result = await client.checkRateLimit(userId);
  
  if (!result.allowed) {
    return res.status(429).json({ error: 'Rate limit exceeded' });
  }
  
  res.status(200).json({ success: true });
}
```

## Express.js

```typescript
// middleware/rate-limit.ts
import { createClient } from 'limitly-sdk';
const client = createClient({ serviceId: 'express-api' });

export async function rateLimitMiddleware(req, res, next) {
  const identifier = req.user?.id || req.ip || 'anonymous';
  const result = await client.checkRateLimit(identifier);
  
  if (!result.allowed) {
    return res.status(429).json({ error: 'Rate limit exceeded' });
  }
  next();
}

// app.ts
app.use('/api', rateLimitMiddleware);
```

## Other Frameworks

### Fastify

```typescript
const client = createClient({ serviceId: 'fastify-api' });

fastify.addHook('onRequest', async (request, reply) => {
  const identifier = request.user?.id || request.ip || 'anonymous';
  const result = await client.checkRateLimit(identifier);
  
  if (!result.allowed) {
    return reply.code(429).send({ error: 'Rate limit exceeded' });
  }
});
```

### Hono

```typescript
const client = createClient({ serviceId: 'hono-api' });

app.use('*', async (c, next) => {
  const identifier = c.req.header('x-user-id') || 'anonymous';
  const result = await client.checkRateLimit(identifier);
  
  if (!result.allowed) {
    return c.json({ error: 'Rate limit exceeded' }, 429);
  }
  await next();
});
```

## Custom Limits

```typescript
const client = createClient({ serviceId: 'my-api' });

// Per-endpoint limits
const limits = {
  '/api/search': { capacity: 100, refillRate: 10 },
  '/api/upload': { capacity: 10, refillRate: 1 }
};

const result = await client.checkRateLimit({
  identifier: userId,
  ...limits[endpoint]
});

// User tier limits
const tierLimits = {
  free: { capacity: 100, refillRate: 10 },
  premium: { capacity: 1000, refillRate: 100 }
};

await client.checkRateLimit({ identifier: user.id, ...tierLimits[user.plan] });
```

## Bring Your Own Redis

For full tenant isolation, provide your own Redis URL:

```typescript
const client = createClient({
  redisUrl: 'redis://localhost:6379',
  serviceId: 'my-app'
});

// All rate limit data stored in your Redis
const result = await client.checkRateLimit('user-123');
```
